<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicaciones Premium</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="novedades.css">
</head>
<body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <header>
        <div class="header-content">
            <div class="logo-container">
                <div class="logo">📱</div>
            </div>
            <h1 class="main-title">Aplicaciones Premium</h1>
            <p class="subtitle">Descubre el poder de las apps desbloqueadas</p>
            
            <nav class="nav-container">
                <a href="#" class="nav-item">🏠 Inicio</a>
                <a href="#" class="nav-item">🔥 Populares</a>
                <a href="#" class="nav-item">🆕 Nuevas</a>
                <a href="#" class="nav-item">⭐ Favoritas</a>
            </nav>
        </div>
    </header>
    
    <section class="info-seguridad">
        <h2>Seguridad y Uso Responsable</h2>
        <p>Para disfrutar de las funciones desbloqueadas de las aplicaciones, recomendamos usarlas de manera responsable. 
           Asegúrate de descargar solo desde fuentes confiables y protege tu privacidad al instalar cualquier aplicación.</p>
    </section>
    
    <div class="search-container">
        <div class="search-wrapper">
            <input type="text" class="search-input" id="search" placeholder="Buscar aplicaciones premium...">
            <button class="search-btn" onclick="buscarApp()">🔍</button>
        </div>
    </div>
    
    <section class="popular-apps">
        <h2>Aplicaciones Populares 🔥</h2>
        <ul class="apps-grid">
            <li class="app-card">
                <div class="app-icon">🎵</div>
                <a href="#">Spotify Premium</a>
            </li>
            <li class="app-card">
                <div class="app-icon">📺</div>
                <a href="#">YouTube ReVanced</a>
            </li>
            <li class="app-card">
                <div class="app-icon">🎬</div>
                <a href="#">TikTok Premium</a>
            </li>
        </ul>
    </section>
    
    <main class="container" id="apps-container">
        <!-- Tarjetas generadas dinámicamente aquí -->
    </main>
    
    <script>
        // Crear partículas animadas
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 5) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Cargar apps desde Pastebin
        async function cargarAppsDesdePastebin() {
            const pastebinUrl = 'https://pastebin.com/raw/DTSfarwd'; // URL raw de tu JSON
            try {
                const response = await fetch(pastebinUrl);
                if (!response.ok) throw new Error('Error al cargar el JSON');
                const data = await response.json();
                const apps = data.apps;
                const container = document.getElementById('apps-container');
                container.innerHTML = '';

                apps.forEach(app => {
                    const pluginBtn = app.plugin_enlace ? `<a href="${app.plugin_enlace}" class="btn download-btn secondary-btn">Descargar Plugin</a>` : '';
                    const card = `
                        <div class="app-card">
                            <img src="${app.imagen}" alt="${app.nombre}">
                            <div class="app-info">
                                <h2>${app.nombre} <span class="update-tag">${app.tag}</span></h2>
                                <p>${app.descripcion}</p>
                                <a href="${app.enlace}" class="btn download-btn">Descargar</a>
                                ${pluginBtn}
                            </div>
                        </div>
                    `;
                    container.innerHTML += card;
                });

                // Actualizar buscador y efectos hover
                actualizarBuscador();
            } catch (error) {
                console.error('Error cargando apps desde Pastebin:', error);
                document.getElementById('apps-container').innerHTML = '<p>Error al cargar las aplicaciones. Intenta de nuevo más tarde.</p>';
            }
        }

        // Buscador para filtrar apps dinámicas
        function buscarApp() {
            const input = document.getElementById("search").value.toLowerCase();
            const apps = document.querySelectorAll(".app-card");
            let found = false;

            apps.forEach(app => {
                const nombre = app.querySelector("h2")?.innerText.toLowerCase();
                if (nombre && nombre.includes(input)) {
                    app.style.display = "block";
                    found = true;
                } else {
                    app.style.display = "none";
                }
            });

            if (!found && input) {
                alert("No se encontraron aplicaciones para: " + input);
            }
        }

        // Enhanced search on Enter key
        document.getElementById('search').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                buscarApp();
            }
        });

        // Efectos hover para tarjetas dinámicas
        function actualizarBuscador() {
            document.querySelectorAll('.app-card').forEach(card => {
                card.addEventListener('mouseover', function() {
                    this.style.background = 'rgba(255, 255, 255, 1)';
                });
                card.addEventListener('mouseout', function() {
                    this.style.background = 'rgba(255, 255, 255, 0.95)';
                });
            });
        }

        // Inicializar partículas y cargar apps
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            cargarAppsDesdePastebin();
        });
    </script>
</body>
</html>